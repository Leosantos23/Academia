<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	lang="pt-br">
	
	<!-- Aqui estou dizendo que vou usar o template de layout -->
	<ui:composition template= "layout.xhtml">
	
	<!-- Tratamento para atualizar o aluno, e nao gerar o mesmo varias vezes -->
	<f:metadata>
		<f:viewParam name="matricula" value= "#{alunoBean.matricula}"/>
		<f:viewAction action= "#{alunoBean.carregar}"/>
	</f:metadata>
	
	<ui:define name="conteudo">
	
	<!-- Novo aluno -->
	<h1>#{alunoBean.titulo}</h1>
	
		<h:panelGroup rendered="#{!facesContext.messageList.isEmpty()}">
		<div id= "infoMessage">
			<h:messages />
		</div>
		</h:panelGroup>
		
		<br/>
			<form jsf:id= "form">
			
			<!-- Tratamento da matricula no formato hidden -->
			<input type= "hidden" jsf:value= "#{alunoBean.aluno.matricula}"/>
						
				<fieldset><!-- area do cadastro -->
					<legend>Dados pessoais</legend><!-- titulo da area de cadastro -->
					
					<label for="nome">Nome:</label><br/>
					<input type= "text" jsf:value= "#{alunoBean.aluno.nome}" name= "nome" id= "nome"/><br/>
					
					<label for= "sexo">Sexo:</label><br/>
					<select jsf:value= "#{alunoBean.aluno.sexo}" id="sexo" size= "0">
					<f:selectItems value= "#{dataBean.sexos}"/>
					</select><br/>
					
					<label for="rg">Rg:</label><br/>
					<input type= "text" jsf:value= "#{alunoBean.aluno.rg}" id= "rg"/><br/>
					
					<label for="dataDeNascimento">Data de nascimento:</label><br/>
					<input type= "date" jsf:value= "#{alunoBean.aluno.dataNascimento}" id= "dataDeNascimento">
					<f:convertDateTime type= "localDate" pattern= "yyyy-MM-dd" />
					</input>
					
				</fieldset>
			
			    <br/>
			    
				<fieldset>
					<legend>Situação</legend>
					
					<label for="situacao" id= "situacao">Situação:</label><br/>
					<select jsf:value= "#{alunoBean.aluno.situacao}" id= "situacao" size= "0">
					<f:selectItems value= "#{dataBean.situacoes}"/>
				    </select>
				</fieldset>
							
			    <br/>
			    
				<fieldset>
					<legend>Endereço</legend>
					
					<label for="rua">Rua:</label><br/>
					<input type= "text" jsf:value= "#{alunoBean.aluno.endereco.rua}" id= "rua"/><br/>
					
					<label for="numero">Número:</label><br/>
					<input type= "text" jsf:value= "#{alunoBean.aluno.endereco.numero}" id= "numero"/><br/>
					
					<label for="complemento">Complemento:</label><br/>
					<input type= "text" jsf:value= "#{alunoBean.aluno.endereco.complemento}" id= "complemento"/><br/>
					
					<label for="cidade">Cidade:</label><br/>
					<input type= "text" jsf:value= "#{alunoBean.aluno.endereco.cidade}" id= "cidade"/><br/>
					
					<label for= "estado">Estado:</label><br/>
					<select jsf:value= "#{alunoBean.aluno.endereco.estado.sigla}"  id= "estado" size= "0">
					<f:selectItems value= "#{dataBean.estados}" var= "e" itemLabel= "#{e.nome}" itemValue= "#{e.sigla}"/>
					
					</select><br/>
					
					<label for="cep">Cep:</label><br/>
					<input type= "text" jsf:value= "#{alunoBean.aluno.endereco.cep}" id= "cep"/><br/>
				</fieldset>
				
				<br/>
				
				<fieldset>
				<legend>Contato</legend>
				
				<label for="email">E-mail:</label><br/>
				<input type= "email" jsf:value= "#{alunoBean.aluno.email}" id= "email"/><br/>
				
					<label for="dddCelular">Celular:</label><br/>
					<input type= "tel" jsf:value= "#{alunoBean.aluno.telefone.dddCelular}" id= "dddCelular"/>&#160;
					<input type= "tel" jsf:value= "#{alunoBean.aluno.telefone.numeroCelular}" id= "numeroCelular"/><br/>
					
					<label for="dddFixo">Fixo:</label><br/>
					<input type= "tel" jsf:value= "#{alunoBean.aluno.telefone.dddFixo}" id= "dddFixo"/>&#160;
					<input type= "tel" jsf:value= "#{alunoBean.aluno.telefone.numeroFixo}" id= "numeroFixo"/>
				</fieldset>
				
				<br/>
				<input type= "submit" value= "Salvar" jsf:action= "#{alunoBean.salvar}"/>
				<input type= "button" value= "Relatório de Acessos"/>
				
			</form>
			
			</ui:define>
			</ui:composition>
			
			</html>
			


